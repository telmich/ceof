% ----------------------------------------------------------------------------
\chapter{Chat Protocol Definition}
    4. Protocol definition paper (containing chat features,
            data types, transport methods, security measures)

\subsection{System Design}
The theory behind EOF.
Search for documents proving/supporting the idea.

Different programs handle different objectives
\subsubsection{Use objectives and derive}
\subsubsection{Objective 1 ...}
\subsubsection{Additional constraints}
Cross-OS. Posix and/or ansi-c. ui changable.
\subsubsection{Key Exchange}
Not implemented, manually.
% ----------------------------------------------------------------------------
\subsection{Intra Machine Intra Program Protocol}
\subsubsection{Interfaces}
Sockets, Environment, Paths, etc.
\subsubsection{Data Types}
\subsubsection{Sub Programs}
Consists of the following sub-programs:
encryption, dictionary, key/peer exchange daemon (if possible in this work),
% ----------------------------------------------------------------------------
\subsection{Sub Programs}
Describe what it does, how it does and where it is implemented.
\subsubsection{Noise / Dictionary / Database}
Generate input for times when there is no user input.
Random or db or or or.
Networt traffic
\subsubsection{Encryption}
Splitting of encryption into a seperate program can make use of
multiple computing ressources.
\subsubsection{User Interface}
Own program, indepentend of core.
\subsubsection{Transports}
Receive/Send

% ----------------------------------------------------------------------------
\subsection{Inter Machine Protocol}
On the "`wire"'. Different transports. Constant transport.
Define name (postcard?!) here. Includes transport specific
header / meta information.

\subsubsection{Variable Transports}
Different transports for one peer.
\subsubsection{List of Supported Transports}
To ensure interoperability, clients which support a specific
protocol version must support all listed transport protocols.
\begin{longtable}{|c|c|c|}
\caption{Transport protocols}\\
\hline
\textbf{Protocol} & \textbf{Description} & \textbf{Supported versions}\\
\hline
tcp & Transmission Control Protocol & 0.1 - 0.1\\
\hline
\end{longtable}

\subsubsection{Variable Peers}
Different routes for every packet
\subsubsection{Constant sending}

\subsubsection{Source based routing}
Either here or in Intra Machine Intra Client
\subsubsection{Peer selection}
Which peers, how many. Constant? May give upper bounds of latency.

8 * 0.5seconds = 4 seconds delay.

\subsubsection{Bandwidth usage}
\begin{verbatim}
>>> messages_size=4*1024
>>> messages_per_second=4
>>> bytes_per_second=messages_per_second*messages_size
>>> print(bytes_per_second)
16384
>>> bytes_per_day=86400*bytes_per_second
>>> print(bytes_per_day)
1415577600
>>> print(bytes_per_day/1024**2)
1350.0
>>> bytes_per_month=month_length*bytes_per_day
>>> print(bytes_per_month/1024**2)
41062.5
>>> print(bytes_per_month/1024**3)
40.10009765625
\end{verbatim}
16 KiB/s or 128 KBit/s, 2 ISDN lines. Around 1.4 GiB per day or
circa 40 GiB per month.

% ----------------------------------------------------------------------------
\subsection{Inter Machine Inter Program Protocol}
After decoding the received packet. Forward, etc.
Based on part os EOF simple data types.
\subsubsection{Message types}
List of messages here
\subsubsection{Message 1}
description here

% ----------------------------------------------------------------------------
\subsection{Version}
As soon as this standard is usable and the first version of \emph{rEOFi}
is released, it will version number \textbf{01} of the standard.
Further changes will be documented in this section. All version numbers
are two ASCII digits (see below).
% Nico: FIXME for 1.0

% Nico: 1.0
% #############################################################################
